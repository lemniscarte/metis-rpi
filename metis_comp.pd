#N canvas 406 135 714 719 12;
#X obj 290 650 outlet~;
#X obj 290 507 *~;
#X obj 290 624 *~;
#N canvas 0 22 450 300 delWrite 0;
#X obj 68 80 delwrite~ \$0-comp 500;
#X obj 68 39 inlet~;
#X obj 68 156 outlet~;
#X connect 1 0 0 0;
#X restore 126 259 pd delWrite;
#X obj 308 456 lop~;
#X obj 308 381 clip~ 0 1;
#X obj 305 599 line~;
#X obj 305 572 pack f 5;
#X obj 305 544 r \$0-gain;
#N canvas 0 22 872 621 rms 0;
#X obj 257 107 env~ 512;
#X obj 257 245 -~;
#X obj 257 293 *~;
#X obj 257 345 +~;
#X obj 257 385 /~;
#X obj 378 221 +~ 0;
#X obj 272 220 r \$0-thresh;
#X obj 272 318 r \$0-thresh;
#X obj 272 269 r \$0-ratio;
#X obj 257 34 inlet~;
#X obj 257 407 outlet~;
#X obj 373 37 inlet;
#X obj 373 59 switch~;
#X obj 257 135 dbtorms~;
#X text 221 74 Input;
#X text 231 136 RMS;
#X text 424 59 turn DSP on/off for this sub-patch;
#X connect 0 0 13 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 10 0;
#X connect 5 0 4 1;
#X connect 6 0 1 1;
#X connect 7 0 3 1;
#X connect 8 0 2 1;
#X connect 9 0 0 0;
#X connect 11 0 12 0;
#X connect 13 0 1 0;
#X connect 13 0 5 0;
#X restore 308 288 pd rms;
#N canvas 1059 231 859 629 peak 0;
#X obj 244 134 abs~;
#X obj 244 243 -~;
#X obj 244 291 *~;
#X obj 244 343 +~;
#X obj 244 383 /~;
#X obj 365 219 +~ 0;
#X obj 259 218 r \$0-thresh;
#X obj 259 316 r \$0-thresh;
#X obj 259 267 r \$0-ratio;
#X obj 244 49 inlet~;
#X obj 244 405 outlet~;
#X obj 470 125 inlet;
#X obj 470 147 switch~;
#X text 206 99 Input;
#X text 208 135 Peak;
#X text 521 148 turn DSP on/off for this sub-patch;
#X connect 0 0 1 0;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 10 0;
#X connect 5 0 4 1;
#X connect 6 0 1 1;
#X connect 7 0 3 1;
#X connect 8 0 2 1;
#X connect 9 0 0 0;
#X connect 11 0 12 0;
#X restore 366 288 pd peak;
#X obj 347 200 == 0;
#X obj 347 155 t f f;
#X obj 126 42 inlet~;
#X obj 347 121 r \$0-rmspeak;
#X obj 193 341 r \$0-lookahead;
#X obj 522 45 inlet control;
#X obj 333 424 r \$0-response;
#N canvas 0 22 450 300 delRead 0;
#X obj 68 41 inlet~;
#X obj 133 155 outlet~;
#X obj 133 42 inlet lookAhead;
#X obj 133 116 delread~ \$0-comp 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X restore 126 375 pd delRead;
#X text 56 257 delwrite~;
#X text 62 375 delread~;
#X text 192 320 Lookahead in ms;
#X text 375 381 Clip signal;
#X text 339 455 Attack/release using LPF;
#X text 315 506 Gain Control;
#X text 378 544 Make-up gain;
#X text 31 316 dummy cable;
#X text 426 282 Gain computation RMS/Peak, f 16;
#X text 398 158 RMS/Peak selector, f 8;
#N canvas 1003 206 768 646 controls 0;
#X obj 79 41 inlet;
#X obj 144 413 dbtorms;
#X obj 196 384 /;
#X obj 196 353 swap 1;
#X obj 249 360 /;
#X obj 249 338 swap 1000;
#X obj 144 435 s \$0-thresh;
#X obj 196 406 s \$0-ratio;
#X obj 301 317 s \$0-gain;
#X obj 354 291 s \$0-rmspeak;
#X obj 406 267 s \$0-lookahead;
#X obj 144 243 route threshold ratio response gain rmspeak lookahead
;
#X obj 175 116 loadbang;
#X obj 144 190 t a a;
#X obj 171 218 s \$0-dump;
#X obj 144 378 + 100;
#X obj 301 271 + 100;
#X obj 301 293 dbtorms;
#X obj 249 382 s \$0-response;
#X text 232 118 initialise controls;
#X text 201 201 send controls to UI;
#X text 142 457 Convert dB FS;
#X text 142 468 to Pd dB scale;
#X text 142 480 and then linear;
#X text 142 491 amplitude.;
#X text 224 423 inverse of ratio;
#X text 300 400 convert ms to frequency;
#X text 320 336 convert dBFS scale to Pd dB scale;
#X text 370 310 RMS/peak selection;
#X text 444 284 lookahead value in ms;
#X text 420 226 route incoming data;
#X msg 175 145 threshold -8 \, ratio 4 \, response 40 \, gain 4 \,
rmspeak 0 \, lookahead 10;
#X connect 0 0 13 0;
#X connect 1 0 6 0;
#X connect 2 0 7 0;
#X connect 3 0 2 0;
#X connect 3 1 2 1;
#X connect 4 0 18 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X connect 11 0 15 0;
#X connect 11 1 3 0;
#X connect 11 2 5 0;
#X connect 11 3 16 0;
#X connect 11 4 9 0;
#X connect 11 5 10 0;
#X connect 12 0 31 0;
#X connect 13 0 11 0;
#X connect 13 1 14 0;
#X connect 15 0 1 0;
#X connect 16 0 17 0;
#X connect 17 0 8 0;
#X connect 31 0 13 0;
#X restore 522 152 pd controls;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 18 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 6 0 2 1;
#X connect 7 0 6 0;
#X connect 8 0 7 0;
#X connect 9 0 5 0;
#X connect 10 0 5 0;
#X connect 11 0 9 1;
#X connect 12 0 11 0;
#X connect 12 1 10 1;
#X connect 13 0 3 0;
#X connect 13 0 9 0;
#X connect 13 0 10 0;
#X connect 14 0 12 0;
#X connect 15 0 18 1;
#X connect 16 0 29 0;
#X connect 17 0 4 1;
#X connect 18 0 1 0;
